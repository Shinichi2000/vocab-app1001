<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.6">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; -webkit-text-stroke: #000000}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; -webkit-text-stroke: #000000; min-height: 14.0px}
    span.s1 {font-kerning: none}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE html&gt;</span></p>
<p class="p1"><span class="s1">&lt;html lang="en"&gt;</span></p>
<p class="p1"><span class="s1">&lt;head&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;meta charset="UTF-8" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;title&gt;英単語フラッシュカード + 復習モード&lt;/title&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;style&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>body {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-family: sans-serif;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: #f4f4f4;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex-direction: column;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin: 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.card {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 90%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>max-width: 320px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>height: 200px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>perspective: 1000px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-bottom: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.card-inner {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>position: relative;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 100%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>height: 100%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transition: transform 0.8s;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transform-style: preserve-3d;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.card.flip .card-inner {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transform: rotateY(180deg);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.card-face {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>position: absolute;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 100%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>height: 100%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>backface-visibility: hidden;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>display: flex;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>justify-content: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>align-items: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>box-shadow: 0 4px 8px rgba(0,0,0,0.1);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background: white;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 10px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>box-sizing: border-box;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.card-front {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1.8em;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: center;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>.card-back {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transform: rotateY(180deg);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flex-direction: column;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 0.95em;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: left;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>overflow-y: auto;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>button {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding: 10px 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin: 5px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border: none;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>border-radius: 6px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>background-color: #007acc;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>color: white;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>cursor: pointer;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>font-size: 1em;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>button:active {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>transform: scale(0.98);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>#review-section {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>margin-top: 30px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>width: 100%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>max-width: 320px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>ul {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>padding-left: 20px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>text-align: left;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>@media (max-width: 480px) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>.card {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>height: 180px;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>.card-front {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>font-size: 1.5em;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>.card-back {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>font-size: 0.85em;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>button {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>width: 100%;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>font-size: 1em;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;/style&gt;</span></p>
<p class="p1"><span class="s1">&lt;/head&gt;</span></p>
<p class="p1"><span class="s1">&lt;body&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;h2&gt;英単語フラッシュカード&lt;/h2&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;div class="card" onclick="flipCard()"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;div class="card-inner" id="cardInner"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;div class="card-face card-front" id="cardFront"&gt;Loading...&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>&lt;div class="card-face card-back" id="cardBack"&gt;&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;button onclick="nextCard()"&gt;次へ&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;button onclick="speakWord()"&gt;🔊 発音&lt;/button&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;div id="review-section"&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;h3&gt;復習モード&lt;/h3&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;button onclick="showReviewList()"&gt;今日復習すべき単語&lt;/button&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>&lt;ul id="reviewList"&gt;&lt;/ul&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;script&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>let data = [];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>let currentIndex = 0;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>let flipped = false;</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>async function fetchData() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const res = await fetch("https://script.google.com/macros/s/AKfycbzvwGiGcOwVUbWqbwwI4P9tey8m1nIKvveIdFppWU3gKwuq81obxgxXjldQj6uWdtujXg/exec");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>data = await res.json();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>data = shuffleArray(data);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>showCard();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function showCard() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const item = data[currentIndex];</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById("cardFront").textContent = item.word;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.getElementById("cardBack").innerHTML =</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>`&lt;strong&gt;意味:&lt;/strong&gt; ${item.meaning_jp}&lt;br&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>&lt;strong&gt;類義語:&lt;/strong&gt; ${item.synonym}&lt;br&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>&lt;strong&gt;定義:&lt;/strong&gt; ${item.definition_en}&lt;br&gt;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">         </span>&lt;strong&gt;例文:&lt;/strong&gt; ${item.example}`;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flipped = false;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.querySelector(".card").classList.remove("flip");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>saveStudyDate(item.word);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function nextCard() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>currentIndex = (currentIndex + 1) % data.length;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>showCard();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function flipCard() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>flipped = !flipped;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>document.querySelector(".card").classList.toggle("flip");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function speakWord() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const utter = new SpeechSynthesisUtterance(data[currentIndex].word);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>utter.lang = 'en-US';</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>speechSynthesis.speak(utter);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function shuffleArray(array) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>return array.sort(() =&gt; Math.random() - 0.5);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function saveStudyDate(word) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const records = JSON.parse(localStorage.getItem('studyRecords') || '{}');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>records[word] = new Date().toISOString();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>localStorage.setItem('studyRecords', JSON.stringify(records));</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>function showReviewList() {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const records = JSON.parse(localStorage.getItem('studyRecords') || '{}');</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const now = new Date();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const reviewWords = [];</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>for (const word in records) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const studiedDate = new Date(records[word]);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const daysPassed = (now - studiedDate) / (1000 * 60 * 60 * 24);</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>if (daysPassed &gt;= 1 &amp;&amp; daysPassed &lt; 2 ||</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>daysPassed &gt;= 3 &amp;&amp; daysPassed &lt; 4 ||</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">            </span>daysPassed &gt;= 7 &amp;&amp; daysPassed &lt; 8) {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">          </span>reviewWords.push(word);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>const ul = document.getElementById("reviewList");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>ul.innerHTML = "";</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>reviewWords.forEach(word =&gt; {</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>const li = document.createElement("li");</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>li.textContent = word;</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">        </span>ul.appendChild(li);</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">      </span>});</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>}</span></p>
<p class="p2"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">    </span>fetchData();</span></p>
<p class="p1"><span class="s1"><span class="Apple-converted-space">  </span>&lt;/script&gt;</span></p>
<p class="p1"><span class="s1">&lt;/body&gt;</span></p>
<p class="p1"><span class="s1">&lt;/html&gt;</span></p>
</body>
</html>
